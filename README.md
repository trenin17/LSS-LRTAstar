# PathPlanning
В этом проекте исследуется и реализуется алгоритм поиска оптимального пути в ограниченно-наблюдаемой среде LSS-LRTA<sup>*</sup>.

Этот алгоритм чередует поиск пути с помощью алгоритма А<sup>*</sup> c обновлением эвристики и перемещением.

![alt-text](visualization.gif)

Черный круг в центре - агент

Синий круг - финишная клетка

Зеленая область - область видимости агента

Белые клетки - свободные клетки

Серые клетки - клетки с препятствием, о которых агенту еще не известно

Черные клетки - клетки с препятствием, о которых агенту уже известно

Черная линия - путь, найденный в процессе работы алгоритма A<sup>*</sup>

Подробнее про алгоритм: https://link.springer.com/article/10.1007/s10458-008-9061-x

## Инструкции запуска
Скрипты для запуска находятся в папке Scripts.
Находясь в папке Scripts, собрать и запустить Release-версию проекта на готовом примере, лежащем в Examples, можно так:
```bash
./BuildRelease
./RunRelease
```
А Debug-версию так:
```bash
./BuildDebug
./RunDebug
```
Запустить на другом тесте можно так:
```cmd
cd ../../Bin/{Debug|Release}/
PathPlanning.exe YourTest.xml
```

## Формат входного файла
Формат файла XML.
* Описание карты
  * width, height - размеры карты
  * cellsize - размер одной клетки на карте
  * startx, starty - координаты стартовой точки
  * finishx, finishy - координаты финишной точки
  * grid - карта в виде матрицы из 0 и 1, где 0 - свободная клетка, 1 - препятствие.   
* Описание типа поиска
  * metrictype - вид метрики
    * diagonal - диагональное расстояние  

    * manhatten - манхэттенское расстояние  
    
    * euclidian - евклидово расстояние  

    * chebyshev - расстояние Чебышева  
  * allowdiagonal - если true, то разрешены переходы по диагоналям
  * cutcorners - если true, то разрешено срезать углы по диагонали
  * allowsqueeze - если true, то разрешено "протискиваться" через углы рядом стоящих препятствий
  * visibility - расстояние в клетках карты, на которое агент может видеть карту от текущего местоположения по вертикали или горизонтали
  * lookahead - количество раскрытий вершин за один запуск алгоритма A<sup>*</sup>
  
## Формат выходного файла
* numberofsteps - количество шагов алгоритма
* nodescreated - количество созданных объектов типа Node
* length - длина искомого пути в клетках сетки
* length_scaled - длина полученного пути
* time - время работы алгоритма
* path - представление итогового пути на карте
* lplevel - последовательность клеток, образующих путь
* hplevel - последовательность отрезков пути.


Также создается файл "YourFile_vlog.txt", необходимый для визуализации алгоритма.

## Визуализация

Чтобы запустить визуализацию, надо зайти в папку Visualization/Visualization и запустить код, передав в аргументы командной строки файл вида "YourFile_vlog.txt".

Чтобы визуализация заработала, необходимо наличие установленной библиотеки SFML(https://www.sfml-dev.org/)
